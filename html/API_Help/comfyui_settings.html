<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title data-i18n="title">ComfyUI API Setup</title>
<link rel="stylesheet" href="../common.css">
<script src="../../third/i18next/i18next.min.js"></script>
</head>
<body>
<div class="container">
<div class="lang-buttons">
<button class="lang-btn active" onclick="changeLanguage('en')">English</button>
<button class="lang-btn" onclick="changeLanguage('ja')">日本語</button>
<button class="lang-btn" onclick="changeLanguage('ko')">한국어</button>
<button class="lang-btn" onclick="changeLanguage('zh')">中文</button>
<button class="lang-btn" onclick="changeLanguage('fr')">Français</button>
</div>

<h1 data-i18n="title">ComfyUI API Setup Guide</h1>
<p data-i18n="intro"></p>

<div class="tab-menu">
<button class="tab-btn active" onclick="openTab(event,'comfyui')">ComfyUI</button>
<button class="tab-btn" onclick="openTab(event,'stability')">Stability Matrix</button>
<button class="tab-btn" onclick="openTab(event,'pinokio')">Pinokio</button>
</div>

<div id="comfyui" class="tab-content active">
<div class="card">
<h2 data-i18n="config_steps"></h2>
<p data-i18n="config_file_edit"></p>
<p data-i18n="example_config"></p>
<div class="img-container">
<img src="Comfyui_API_settings.jpg" alt="ComfyUI settings">
</div>
<h3 data-i18n="env_variables"></h3>
<code>--enable-cors-header</code>
</div>
</div>

<div id="stability" class="tab-content">
<div class="card">
<h2>Stability Matrix</h2>
<p class="notice" data-i18n="cors_note"></p>
<div class="img-container">
<img src="StablityMatrixComfyUI.jpg" alt="Stability Matrix">
</div>
<h3 data-i18n="env_variables"></h3>
<code>--enable-cors-header</code>
</div>
</div>

<div id="pinokio" class="tab-content">
<div class="card">
<h2>Pinokio</h2>
<p data-i18n="pinokio_edit"></p>
<p data-i18n="pinokio_open"></p>
<div class="img-container">
<img src="pinokio_file.png" alt="Pinokio file">
</div>
<div class="img-container">
<img src="pinokio_file_mod.png" alt="Pinokio modification">
</div>
<h3 data-i18n="env_variables"></h3>
<code>--enable-cors-header</code>
</div>
</div>
</div>

<script>
const resources = {
en: {
translation: {
"title": "ComfyUI API Setup Guide",
"intro": "This guide explains how to set up the ComfyUI API.",
"config_steps": "API Configuration Steps",
"config_file_edit": "Edit 'run_nvidia_gpu.bat' file in the ComfyUI folder to set environment variables.",
"example_config": "The configuration file is as follows",
"env_variables": "Environment Variables",
"cors_note": "Note: When launching from Stability Matrix, set this in Extra Launch Arguments.",
"pinokio_edit": "In Pinokio, edit start.js to add --enable-cors-header",
"pinokio_open": "Open Files -> api -> comfy.git -> start.js"
}
},
ja: {
translation: {
"title": "ComfyUI API セットアップガイド",
"intro": "このガイドではComfyUI APIの設定方法を説明します。",
"config_steps": "API設定手順",
"config_file_edit": "ComfyUIフォルダ内の'run_nvidia_gpu.bat'ファイルを編集して環境変数を設定します。",
"example_config": "設定ファイルは以下のとおりです",
"env_variables": "環境変数",
"cors_note": "注意：Stability Matrixからの起動ではExtra Launch Argumentsに設定してください。",
"pinokio_edit": "Pinokioではstart.jsを編集して--enable-cors-headerを追加します。",
"pinokio_open": "Files -> api -> comfy.git -> start.jsを開きます。"
}
},
ko: {
translation: {
"title": "ComfyUI API 설정 가이드",
"intro": "이 가이드는 ComfyUI API 설정 방법을 설명합니다.",
"config_steps": "API 설정 단계",
"config_file_edit": "ComfyUI 폴더의 'run_nvidia_gpu.bat' 파일에서 환경변수를 설정합니다.",
"example_config": "설정 파일은 다음과 같습니다",
"env_variables": "환경변수",
"cors_note": "주의: Stability Matrix에서 실행 시 Extra Launch Arguments에 설정하세요.",
"pinokio_edit": "Pinokio에서 start.js를 편집하여 --enable-cors-header를 추가합니다.",
"pinokio_open": "Files -> api -> comfy.git -> start.js를 엽니다."
}
},
zh: {
translation: {
"title": "ComfyUI API 设置指南",
"intro": "本指南说明如何设置 ComfyUI API。",
"config_steps": "API 设置步骤",
"config_file_edit": "编辑 ComfyUI 文件夹中的 'run_nvidia_gpu.bat' 文件以设置环境变量。",
"example_config": "配置文件如下",
"env_variables": "环境变量",
"cors_note": "注意：从 Stability Matrix 启动时，请在 Extra Launch Arguments 中设置。",
"pinokio_edit": "在Pinokio中编辑start.js添加--enable-cors-header",
"pinokio_open": "打开Files -> api -> comfy.git -> start.js"
}
},
fr: {
translation: {
"title": "Guide de Configuration API ComfyUI",
"intro": "Ce guide explique comment configurer l'API ComfyUI.",
"config_steps": "Étapes de Configuration API",
"config_file_edit": "Modifiez le fichier 'run_nvidia_gpu.bat' dans le dossier ComfyUI pour définir les variables d'environnement.",
"example_config": "Le fichier de configuration est comme suit",
"env_variables": "Variables d'Environnement",
"cors_note": "Note: Pour le lancement depuis Stability Matrix, définissez ceci dans Extra Launch Arguments.",
"pinokio_edit": "Dans Pinokio, modifiez start.js pour ajouter --enable-cors-header",
"pinokio_open": "Ouvrez Files -> api -> comfy.git -> start.js"
}
}
};

function openTab(evt, tabName) {
document.querySelectorAll('.tab-content').forEach(tab => tab.classList.remove('active'));
document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
document.getElementById(tabName).classList.add('active');
evt.currentTarget.classList.add('active');
}

i18next.init({
lng: 'en',
resources: resources
}, function(err, t) {
updateContent();
});

function updateContent() {
document.title = i18next.t('title');
document.querySelectorAll('[data-i18n]').forEach(function(elem) {
elem.textContent = i18next.t(elem.getAttribute('data-i18n'));
});
}

function changeLanguage(lng) {
document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
event.target.classList.add('active');
i18next.changeLanguage(lng, function(err, t) {
updateContent();
});
}
</script>
</body>
</html>
