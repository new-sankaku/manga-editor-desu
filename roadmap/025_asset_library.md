# 025: 素材ライブラリ

## 規模: M (中)

## 概要
ユーザーが頻繁に使う素材（スタンプ、テクスチャ、装飾、背景パーツなど）を保存・管理し、ワンクリックでキャンバスに配置できるライブラリ機能。

## 現状の問題
- よく使う素材を毎回ファイルから読み込む必要がある
- 吹き出しやアイコンのプリセットはあるが、ユーザー定義の素材管理がない
- 作業効率が素材の再利用性の低さで落ちている

## 修正内容
### 素材登録
- キャンバス上の選択オブジェクトを素材として登録
- ファイルからのインポート（PNG, SVG, JSON）
- 素材のタグ付け・カテゴリ分類
- サムネイル自動生成

### 素材管理
- IndexedDBへの永続保存（`js/db/asset-repository.js`）
- カテゴリ別表示（背景、装飾、キャラ小物、効果 等）
- タグ検索
- 素材の編集・削除

### 素材配置
- サムネイルクリックまたはD&Dでキャンバスに配置
- 配置時のサイズ自動調整オプション

### インポート/エクスポート
- 素材セットのエクスポート（他ユーザーと共有可能）
- 素材セットのインポート

## 該当箇所
- 新規: `js/sidebar/asset/`
  - `asset-manager.js` - 素材管理ロジック
  - `asset-panel.js` - サイドバーUI
- 新規: `js/db/asset-repository.js` - IndexedDB永続化
- 修正: サイドバーに「素材」タブ追加

## 影響範囲
- サイドバーUIの追加
- IndexedDBスキーマの追加

## 売りポイント
- マンガ制作の反復作業を大幅に削減
- 効果線、集中線、装飾パーツなどを自分だけのコレクションとして蓄積
- 素材セットの共有でコミュニティ形成の基盤になる
